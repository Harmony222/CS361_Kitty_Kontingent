{% extends "layout.html" %}
{% block content %}
<script
    src="https://maps.googleapis.com/maps/api/js?key={{ map_api_key }}&callback=initMap&libraries=&v=weekly"
    defer>
</script>
<script>
    function initMap() {
        const location = {lat: 47.60621, lng: -122.3321};
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 10,
            center: location,
        });
        setMarkers(map);
    }
    const LOCATIONS = [
        ["A Trail", 47.6938241, -122.4157275, 1],
        ["B Trail", 47.6278632, -122.3333217, 2],
        ["C Trail", 47.654404, -122.3778202, 3]
    ];
    function setMarkers(map) {
        const image = {
            url: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",
            size: new google.maps.Size(20, 32),
            origin: new google.maps.Point(0, 0),
            anchor: new google.maps.Point(0, 32),
        };
        const shape = {
            coords: [1, 1, 1, 20, 18, 20, 18, 1],
            type: "poly",
        };
        for (let i = 0; i < LOCATIONS.length; i++) {
            const trail = LOCATIONS[i];
            new google.maps.Marker({
                position: { lat: trail[1], lng: trail[2] },
                map,
                icon: image,
                shape: shape,
                title: trail[0],
                zIndex: trail[3],
            });
        }
    }
</script>
<style type="text/css">
  .map-list-pane {
      height: 450px;
      width: 600px;
      border: 2px solid black;
      display: block;
      margin: auto;
  }
  #map {
      height: 400px;
      width: 100%;
  }
  .slider {
      width: 600px;
      display: block;
      margin: auto;
  }
  .difficulty-list {
      display: flex;
      justify-content: space-between;
      list-style: none;
      padding: 0
  }
</style>
<h4>Match Me With A Trail</h4>
<div class="map-list-pane">
  <nav>
    <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
      <a class="nav-item nav-link active" id="map-view-tab" data-toggle="tab" href="#map-view" role="tab" aria-controls="map-view" aria-selected="true">Map View</a>
      <a class="nav-item nav-link" id="list-view-tab" data-toggle="tab" href="#list-view" role="tab" aria-controls="list-view" aria-selected="false">List View</a>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane show active" id="map-view" role="tabpanel" aria-labelledby="map-view-tab">
      <div id="map"></div>
    </div>
    <div class="tab-pane" id="list-view" role="tabpanel" aria-labelledby="list-view-tab">
      <h1>List goes here</h1>
    </div>
  </div>
</div>
<div class="slider">
  <label for="slider-range">Difficulty</label>
  <input type="range" class="custom-range" min="0" max="3" id="slider-range">
  <ul class="difficulty-list">
    <li>Eacy and chill</li>
    <li>TODO</li>
    <li>Match my fitness level</li>
    <li>Challenge me!</li>
  </ul>
</div>
{% endblock content %}